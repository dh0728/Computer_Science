# 💡 Database (데이터베이스)

## 📌 데이터베이스 용어 정리

### 🌞 긍정적 단어
1. **독립성 (Data Independence)**
- **논리적 독립성** : 응용 프로그램과 데이터베이스를 독립시킴으로써, 데이터의 논리적 구조를 변경시키더라도 응용 프로그램은 변경되지 않는다.
- **물리적 독립성** : 응용 프로그램과 보조기억장치 같은 물리적 장치를 독립시킴으로써, 데이터베이스 시스템의 성능 향상을 위해 새로운 디스크를 도입하더라도 응용 프로그램에는 영향을 주지 않고 데이터의 물리적 구조만을 변경한다.
2. 무결성 (Data Integrity) : 삽입, 삭제, 갱신 등의 연산 후에도 데이터베이스에 저장된 데이터가 정해진 제약 조건을 항상 만족해야 한다.
3. 일관성 (Data Consistency) : 데이터베이스에 저장된 데이터와 특정 질의에 대한 응답이 변함 없이 일정해야 한다.

### 🌧️ 부정적 단어
1. **종속성 (Data Dependency)** : (⇔ 독립성) 응용 프로그램의 구조가 데이터의 구조에 영향을 받는다.
2. **중복성 (Data Redundancy)** : 같은 데이터가 중복되어 저장되는 것으로, 데이터 수정/삭제 시 연결된 모든 데이터를 수정/삭제해줘야 하는 문제점이 있다.
3. **비일관성 (Data Inconsistency)** : 동일한 데이터의 여러 사본이 서로 다른 값을 보유하고 있는 상태로, 데이터 중복성에 이어서 발생할 수 있다.

## 📌 데이터베이스 시스템의 목적
- 데이터 베이스 등장 전 -> 운영체제에 의해 지원되는 파일 시스템을 통해 데이터를 관리
- 이때 여러가지 문제점이 존재하는데, 데이터베이스 시스템의 목적은 이 문제점을 해결하기 위하는 데 있다. 

#### 파일 시스템을 사용했을 때 문제점
1. 데이터의 중복과 비일관성
2. 데이터 접근 시 필요한 데이터를 편리하고 효율적으로 검색하기 힘들다.
3. 데이터가 여러 파일에 흩어져 있고 파일 형식이 서로 다를 수 있다.
4. 데이터 동시 접근 시 데이터가 잘못 업데이트될 수 있다.
5. 무결성 문제
6. 보안 문제

**데이터베이스는 여러 사람들이 공유하여 사용할 목적으로 체계화해 통합, 관리하는 데이터의 집합을 말한다. DBMS를 통해 요구를 처리하고, SQL을 사용해 데이터에 접근한다.** 

### ✅ 데이터베이스의 장점

- 데이터의 논리적, 물리적 독립성, 일관성, 무결성, 보안성 보장
- 데이터 중복 최소화
- 저장된 자료를 공동으로 이용할 수 있다.
- 데이터를 통합하여 관리할 수 있다.
- 데이터의 실시간 처리가 가능하다.
- 한편 단점도 존재한다.

### ✅ 데이터베이스의 단점

- 전산화 비용이 증가한다.
- 대용량 디스크로의 집중적인 Access로 과부하(Overhead)가 발생할 수 있다.

<br>

### 🔧 관계형 데이터베이스 시스템 (RDBMS)

RDBMS는 테이블 기반(Table based) DBMS로, 테이블들의 집합으로 데이터들의 관계를 표현한다.

- 데이터를 테이블 단위로 관리
- 중복 데이터 최소화 (정규화)
- 여러 테이블에 분산되어 있는 데이터를 검색 시 테이블 간의 관계(join)를 이용해 필요한 데이터를 검색

### ✅ Clustering 구현 방식
- 클러스터링을 구현하는 방법으로는 또 **Active-Active**와 **Active-Standby**가 있다. 
- Active-Active는 클러스터를 항상 가동하여 가용가능한 상태로 두는 구성 방식이고, Active-Standby는 일부 클러스터는 가동하고, 일부 클러스터는 대기 상태로 구성하는 방식이다. 상황에 따라 알맞은 구조를 선택하면 된다.

### ✅ 데이터베이스 언어

#### DDL (Data Definition Language) : 데이터 정의어
- CREATE, ALTER, DROP, RENAME
- 데이터베이스 객체(table, view, index...)의 구조를 정의 (생성, 변경, 제거)

#### DML (Data Manipulation Language) : 데이터 조작어
- INSERT, SELECT, UPDATE, DELETE
- 데이터베이스 테이블의 레코드를 CRUD (Create, Read, Update, Delete)

#### DCL (Data Control Language) : 데이터 제어어
- GRANT, REVOKE
- 데이터베이스와 그 구조에 대한 접근 권한을 제공하거나 제거

#### TCL (Transaction Control Language) : 트랜잭션 제어어
- COMMIT, ROLLBACK, Savepoint
- DML 명령문으로 수행한 변경을 관리 (트랜잭션 관리)

<br>

## 📌 정규화

- 함수의 종속성 이론을 통해 데이터의 **중복성을 최소화**하고 **일관성 등을 보장**하여 데이터베이스의 품질과 성능을 향상키시는 과정이다. 
- 정규화 수준이 높을수록 유연한 데이터 구축이 가능하고 데이터의 정확성이 높아지는 반면, 물리적 접근이 복잡하고 너무 많은 조인으로 인해 조회 성능이 저하된다는 특징이 있다

### ✅ 정규화의 목적
1. 데이터 구조의 안정성과 무결성을 유지한다
2. 데이터 모형의 단순화가 가능하다
3. 효과적인 검색 알고리즘을 생성할 수 있다
4. 데이터 중복을 배제하여 이상(Anomaly) 발생을 방지하고 저장 공간을 최소화한다

### 이상(Anomaly)의 개념 및 종류
- 정규화를 거치지 않으면 **데이터베이스 내에 데이터들이 불필요하게 중복**되어 릴레이션 조작 시 문제가 생기는데, 이를 **이상**이라고 하며 삽입 이상, 삭제 이상, 갱신 이상이 있다

- **삽입 이상 (Insertion Anomaly)** : 데이터를 삽입할 때 원하지 않은 값들도 함께 삽입되는 현상
- **갱신 이상 (Update Anomaly)** : 데이터를 수정할 때 일부 튜플의 정보만 갱신되어 정보에 모순이 생기는 현상
- **삭제 이상 (Deletion Anomaly)** : 데이터를 삭제할 때 의도와는 상관 없는 값들도 함께 삭제되는 현상

### ✅ 정규화 과정

#### 1NF(제 1 정규형)

릴레이션에 속한 모든 도메인이 원자값만으로 되어있는 정규형이다

#### 2NF(제 2 정규형)

1NF를 만족하고, 부분 함수적 종속을 제거하여 기본키가 아닌 모든 속성이 기본키에 대하여 완전 함수적 종속을 만족하는 정규형이다

```
완전 함수적 종속 : 만약 (속성 A, 속성 B) -> 속성 C 일때, A->C, B->C 모두 성립될때 완전 함수적 종속이라 한다
부분 함수적 종속 : 만약 (속성 A, 속성 B) -> 속성 C 일때, A->C, B->C 중 하나만 성립될때(모두 성립 x) 부분 함수적 종속이라 한다
```

#### 3NF(제 3 정규형)

2NF를 만족하고, 이행적 함수 종속을 제거하는 정규형이다

```
이행적 종속 : A -> B, B -> C 의 종속관계에서 A -> C를 만족하는 관계를 의미한다
```

**BCNF(Boyce-Codd 정규형)**
결정자가 모두 후보키인 정규형이다.(후보키가 아닌 결정자를 제거하는 정규형이다)

[BCNF의 제약 조건]

- 키가 아닌 모든 속성은 각 키에 대하여 완전 종속해야 한다
- 키가 아닌 모든 속성은 그 자신이 부분적으로 들어가 있지 않은 모든 키에 대해 완전 종속해야 한다
- 어떤 속성도 키가 아닌 속성에 대해서는 완전 종속 할 수 없다

```
결정자 : 다른 속성을 고유하게 결정하는 하나 이상의 속성 (속성 간의 종속성을 규명할 때 기준이 되는 값)
종속자 : 결정자의 값에 의해 정해지는 값
후보키 : 테이블에서 각 행을 유일하게 식별할 수 있는 최소한의 속성들의 집합  
```

#### 4NF(제 4 정규형)


### 출처

<a href="https://github.com/Seogeurim/CS-study/tree/main/contents/database">database</a>

